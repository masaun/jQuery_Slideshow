<!DOCTYPE>
<html>

<head>
  <meta charset="utf-8">
  <title>jQueryスライドショーアプリ</title>

  <!-- サムネイルのサイズ設定。最下部にメソッドチェーンで記載したaddClassメソッドで紐付けされる-->
  <style>
    body {
      margin: 10px auto;
      text-align: center;
    }
    .thumbnail {
      width: 125px;
      height: 83px;
    }
    /* 隣接するサムネイルに対して適用するスタイルを設定 */
    .thumnail + .thumnail {
      margin-left: 4px;
    }

  </style>
</head>
<body>
  <div id="thumbnails"></div>
  <div id="main"></div>
  <!-- 追加する領域(nav)を記載。前後ボタンを追加 -->
  <div id="nav">
    <button id="prev">&laquo; 前へ</button>
    <button id="next">次へ &raquo;</button>
  </div>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
  <script>
    $(function() {
      var files = [
        'fish1.jpg',
        'fish2.png',
        'fish3.png',
        'fish4.jpg'
      ];
      var img;
      // 今何個目の画像か認識するための記載「currentNum」
      var currentNum = 0;
      for (var i = 0; i < files.length; i++) {
        img = $('<img>').attr('src', files[i]).addClass('thumbnail');
        $('#thumbnails').append(img);
      }

      $('#main').append(
        $('<img>').attr('src', files[0])
      );
      $('.thumbnail').click(function() {
        $('#main img').attr('src', $(this).attr('src'));
      });
      // 追加したい領域prevの挙動を設定
      $('#prev').click(function() {
        currentNum--;
        if (currentNum < 0) {
          currentNum = files.length -1;
        }
        $('#main img').attr('src', files[currentNum]);
      });
    });
  </script>
</body>

</html>